<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iris's book</title>
  <style>
    :root{
      --grad-main: linear-gradient(to top, #F8C8DC, #F0BEE8, #E6DAF5);
      --grad-menu: linear-gradient(to bottom, rgb(250,218,221), rgb(216,191,216));
      --text-dark: #4b3b4f;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:var(--grad-main);
      color:var(--text-dark);
      min-height:100vh;
    }
    .hidden{display:none}

    /* HEADER */
    header{
      position:sticky;top:0;z-index:1000;
      background:rgba(255,255,255,.25);
      backdrop-filter:blur(8px);
      padding:12px 16px;
      display:flex;justify-content:space-between;align-items:center;
    }
    header::after{
      content:"";position:absolute;bottom:0;left:10%;right:10%;height:1px;
      background:linear-gradient(to right,transparent,rgba(255,255,255,.8),transparent);
    }
    .logo{display:flex;align-items:center;gap:8px;font-weight:600;cursor:pointer}
    .logo-circle{
      width:28px;height:28px;border-radius:50%;
      background:var(--grad-main);display:flex;align-items:center;justify-content:center;color:#fff
    }

    /* MENU */
    .menu-btn{width:28px;height:22px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
    .menu-btn span{height:3px;background:#fff;border-radius:2px;transition:.3s}
    .menu-btn.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
    .menu-btn.active span:nth-child(2){opacity:0}
    .menu-btn.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
    .menu-panel{
      position:fixed;top:64px;right:16px;width:70%;max-width:260px;
      background:var(--grad-menu);border-radius:16px;padding:16px;display:none
    }
    .menu-panel.active{display:block}

    main{padding:16px}

    /* HOME */
    .story-card{background:rgba(255,255,255,.4);border-radius:16px;padding:12px;display:flex;gap:12px;margin-bottom:16px;cursor:pointer}
    .story-thumb{width:70px;height:90px;border-radius:12px;background:linear-gradient(to bottom right,#f7b7d2,#d6c1f0)}

    /* STORY */
    .story-header{display:flex;gap:16px;margin-bottom:16px}
    .story-img{width:100px;height:140px;border-radius:16px;background:#ddd}
    .tabs{display:flex;gap:16px;margin-bottom:8px}
    .tabs span{cursor:pointer}
    .tabs .active{text-decoration:underline}
    .box{background:rgba(255,255,255,.35);border-radius:16px;padding:12px;max-height:320px;overflow-y:auto}

    /* CHAPTER */
    .chapter-nav{display:flex;justify-content:center;align-items:center;gap:8px;margin:12px 0}
    .pill{padding:6px 14px;border-radius:999px;background:rgba(255,255,255,.5);cursor:pointer}
    .chapter-dropdown{position:relative}
    .chapter-list{
      position:absolute;top:36px;left:50%;transform:translateX(-50%);
      background:var(--grad-menu);border-radius:12px;padding:8px;
      max-height:200px;overflow-y:auto;display:none;width:140px
    }
    .chapter-list div{padding:6px;text-align:center;cursor:pointer}

    footer{text-align:center;padding:24px;font-size:13px;opacity:.7}
  </style>
</head>
<body>
<header>
  <div class="logo" onclick="goHome()">
    <div class="logo-circle">I</div>Iris's book
  </div>
  <div class="menu-btn" id="menuBtn" onclick="toggleMenu()"><span></span><span></span><span></span></div>
</header>
<div class="menu-panel" id="menuPanel"></div>

<main>
  <section id="home"></section>
  <section id="story" class="hidden"></section>
  <section id="chapter" class="hidden"></section>
</main>

<footer>âœ¦ Iris's book âœ¦</footer>

<script>
//pháº§n ná»™i dung chÆ°Æ¡ng
// 1ï¸âƒ£ Táº¡o khung 99 chÆ°Æ¡ng rá»—ng
const defaultChapters = Array.from({ length: 99 }, (_, i) => ({
  title: `ChÆ°Æ¡ng ${i + 1}`,
  text: `
(ChÆ°Æ¡ng ${i + 1} hiá»‡n chÆ°a cÃ³ ná»™i dung)
  `
}));

// 2ï¸âƒ£ Ghi Ä‘Ã¨ nhá»¯ng chÆ°Æ¡ng ÄÃƒ VIáº¾T
defaultChapters[0] = {
  title: "ChÆ°Æ¡ng 1: Gáº·p gá»¡",
  text: `
Ná»™i dung chÆ°Æ¡ng 1 viáº¿t á»Ÿ Ä‘Ã¢y.

Báº¡n cÃ³ thá»ƒ viáº¿t dÃ i bao nhiÃªu cÅ©ng Ä‘Æ°á»£c.
Xuá»‘ng dÃ²ng thoáº£i mÃ¡i nhÆ° truyá»‡n tháº­t.
  `
};

defaultChapters[1] = {
  title: "ChÆ°Æ¡ng 2: Háº¯c liÃªn hoa",
  text: `
Ná»™i dung chÆ°Æ¡ng 2 viáº¿t á»Ÿ Ä‘Ã¢y.

Tiá»ƒu sÆ° Ä‘á»‡ cá»§a taâ€¦
  `
};

defaultChapters[15] = {
  title: "ChÆ°Æ¡ng 16: Cá»‘ LÄƒng Kiáº¿m KhÆ°u (9)",
  text: `
nÄƒm ngÆ°á»i kia kháº½ nháº¿ch mÃ´i, khÃ´ng má»™t lá»i thá»«a thÃ£i,
thÃ¢n hÃ¬nh thoáº¯t áº©n thoáº¯t hiá»‡n, lao tháº³ng vá» phÃ­a VÃ¢n
Niá»‡m vá»›i tá»‘c Ä‘á»™ kinh ngÆ°á»i.

VÃ¢n Niá»‡m quÃ¡t: â€œCá»© ngá»“i yÃªn Ä‘Ã³!â€

Má»™t tráº­n phÃ¡p vÃ´ hÃ¬nh bao bá»c láº¥y Táº¡ Khanh Lá»…, khiáº¿n cáº­u tháº­m
chÃ­ khÃ´ng cáº£m nháº­n Ä‘Æ°á»£c lÃ n giÃ³ xÃ© tá»« cuá»™c giao chiáº¿n.

Cáº­u nhÃ¬n cÃ´ gÃ¡i máº£nh kháº£nh xÃ´ng vÃ o giá»¯a bÃ³ng Ä‘en.

CÃ´ ráº¥t máº¡nh. DÃ¹ chá»‰ lÃ  Kim Äan, Ä‘á»‘i máº·t vá»›i nÄƒm tÃªn Ä‘áº¡i hÃ¡n kia,
cÃ´ váº«n cÃ³ thá»ƒ dá»±a vÃ o thÃ¢n phÃ¡p linh hoáº¡t Ä‘á»ƒ chá»‘ng Ä‘á»¡.

Thanh má»™c kiáº¿m trong tay cÃ´ nhÆ° Ä‘Æ°á»£c thá»•i há»“n, kiáº¿m khÃ­ tá»±a rá»“ng lÆ°á»£n quanh
ngÆ°á»i, theo tá»«ng bÆ°á»›c chÃ¢n cÃ´ xuyÃªn qua káº» Ä‘á»‹ch.

Táº¡ Khanh Lá»… nháº­n ra cÃ´ Ä‘ang bá»‘ tráº­n.

Bá» ngoÃ i lÃ  phÃ²ng thá»§, nhÆ°ng má»—i bÆ°á»›c Ä‘i Ä‘á»u lÃ  má»™t nÃºt tráº­n.

Má»™t kiáº¿m tu láº¡i cÃ²n tinh thÃ´ng tráº­n phÃ¡p.

Náº¿u VÃ¢n Niá»‡m nghe Ä‘Æ°á»£c suy nghÄ© nÃ y, cháº¯c sáº½ buá»™t miá»‡ng:

Cáº£m táº¡ trá»i Ä‘áº¥t, cáº£m Æ¡n Tiá»ƒu sÆ° thÃºc Ã”n Quan Tráº§n cá»§a cÃ´.

Náº¿u khÃ´ng pháº£i vÃ¬ Ã´ng ta thÆ°á»ng xuyÃªn lÃ´i cÃ´ Ä‘i thá»­ nghiá»‡m tráº­n phÃ¡p, cÃ´ Ä‘Ã£
khÃ´ng há»c Ä‘Æ°á»£c nhá»¯ng thá»© nÃ y.

VÃ¢n Niá»‡m hiá»ƒu rÃµ, náº¿u chá»‰ dá»±a vÃ o vÃµ lá»±c, sá»›m muá»™n cÃ´ cÅ©ng bá»‹ tiÃªu hao Ä‘áº¿n
cháº¿t. Äá»™ng tÄ©nh lÃºc nÃ y khÃ´ng nhá», cháº¯c cháº¯n khÃ´ng chá»‰ cÃ³ nÄƒm tÃªn nÃ y.
Náº¿u thÃªm ngÆ°á»i Ä‘áº¿n, cáº£ hai Ä‘á»u sáº½ bá»‹ báº¯t.

MÆ°á»i sÃ¡u nÃºt tráº­n Ä‘Ã£ thÃ nh. VÃ¢n Niá»‡m nÃ© Ä‘Ã²n cá»§a má»™t tÃªn, thÃ¢n hÃ¬nh lÃ¹i nhanh
vá» phÃ­a Táº¡ Khanh Lá»….

CÃ´ niá»‡m chÃº, giá»ng láº¡nh nhÆ° bÄƒng: "Tráº­n khá»Ÿi!"

NÄƒm ngÆ°á»i kia nháº­n ra báº¥t thÆ°á»ng, Ã¡nh máº¯t biáº¿n sáº¯c, láº­p tá»©c muá»‘n rÃºt lui.
NhÆ°ng chá»‰ trong chá»›p máº¯t, dÆ°á»›i chÃ¢n há» xuáº¥t hiá»‡n má»™t vÃ²ng trÃ²n Ã¡nh vÃ ng rá»±c
rá»¡, cá»• xÆ°a xoay trÃ²n.

Xung quanh bá»«ng lÃªn má»™t kim chung trÃ¡o trong suá»‘t, phÃ¹ vÄƒn xoÃ¡y nhanh.
"Kim Chung SÃ¡t Tráº­n!â€

Ngay sau Ä‘Ã³, vÃ´ sá»‘ lÆ°á»¡i kiáº¿m sáº¯c bÃ©n tá»« trong tráº­n báº¯n ra, tiáº¿ng xÃ© giÃ³ rÃ­t lÃªn
tá»«ng há»“i.

VÃ¢n Niá»‡m nhÃ¢n cÆ¡ há»™i, quay ngÆ°á»i Ã´m láº¥y Táº¡ Khanh Lá»… vÃ  bá» cháº¡y.

KhÃ´ng cháº¡y bÃ¢y giá» thÃ¬ chá» Ä‘áº¿n bao giá»?
CÃ´ chÆ°a cháº¡y Ä‘Æ°á»£c bao xa, Ä‘Ã£ nghe tháº¥y tiáº¿ng ná»• kinh thiÃªn phÃ­a sau, tiáº¿p theo
lÃ  má»™t tiáº¿ng báº¡o phÃ¡ chÃ³i tai, lá»­a bÃ¹ng lÃªn giá»¯a khÃ´ng trung.

[KhÃ´ng tá»‘t, chÃºng Ä‘ang truyá»n tÃ­n hiá»‡u!]
VÃ¢n Niá»‡m giáº­n dá»¯: â€œKhÃ´ng cÃ³ vÃµ Ä‘á»©c!"
CÃ´ khÃ´ng thá»ƒ bá» Táº¡ Khanh Lá»…, nhÆ°ng cá»© cháº¡y mÃ£i cÅ©ng khÃ´ng pháº£i cÃ¡ch. Nhá»¯ng
káº» kia sá»›m muá»™n sáº½ Ä‘uá»•i ká»‹p.

VÃ¢n Niá»‡m nghiáº¿n cháº·t rÄƒng, liáº¿c nhÃ¬n phÃ­a sau, cuá»‘i cÃ¹ng quyáº¿t Ä‘á»‹nh.
CÃ´ cÃµng Táº¡ Khanh Lá»… lao xuá»‘ng rá»«ng ráº­m, Ä‘áº·t cáº­u bÃ© xuá»‘ng giá»¯a Ä‘Ã¡m cá» cao
ngang lÆ°ng.
CÃ´ bá»‘ trÃ­ táº¥t cáº£ phÃ¹ tráº­n TÃ´ Doanh cho xung quanh, Ä‘Ãºt cho cáº­u má»™t viÃªn Ä‘an
dÆ°á»£c áº©n khÃ­.

â€œTa sáº½ quay láº¡i ngay, Ä‘á»‡ tuyá»‡t Ä‘á»‘i khÃ´ng Ä‘Æ°á»£c Ä‘á»™ng Ä‘áº­y. Ta Ä‘i dá»¥ chÃºng ra xa."
CÃ´ láº¥y cá» khÃ´ phá»§ lÃªn ngÆ°á»i Táº¡ Khanh Lá»…, Ä‘áº£m báº£o Ä‘Ã£ giáº¥u kÃ­n cáº­u, rá»“i Ä‘á»©ng dáº­y
Ä‘á»‹nh rá»i Ä‘i.
Vá»«a bÆ°á»›c Ä‘Æ°á»£c má»™t bÆ°á»›c, VÃ¢n Niá»‡m quay Ä‘áº§u nhÃ¬n láº¡i.
ÄÃ´i máº¯t Ä‘en cá»§a Táº¡ Khanh Lá»… nhÃ¬n cÃ´ chÄƒm chÃº, Ã¡nh máº¯t bÃ¬nh tháº£n nhÆ° Ä‘Ã£ nhÃ¬n
tháº¥u táº¥t cáº£.

KhÃ´ng sá»£ hÃ£i, khÃ´ng tin tÆ°á»Ÿng, khÃ´ng má»™t chÃºt cáº£m xÃºc.
CÃ´ khá»±ng láº¡i, nÃ³i: â€œÄá»‡ tin ta Ä‘i, ta nháº¥t Ä‘á»‹nh sáº½ quay vá». Äá»«ng ra ngoÃ i.â€
VÃ¢n Niá»‡m quay ngÆ°á»i rá»i Ä‘i, tÃ  Ã¡o mÃ u há»“ lá»¥c khuáº¥t sau tÃ¡n cÃ¢y, khu rá»«ng tÄ©nh
láº·ng chá»‰ cÃ²n láº¡i Táº¡ Khanh Lá»… má»™t mÃ¬nh.
Cáº­u co ngÆ°á»i trong Ä‘Ã¡m cá» sÃ¢u.

Táº¡ Khanh Lá»… ngng Ä‘áº§u nhÃ¬n trá»i, tháº¥y má»™t vá»‡t Ä‘á» rá»±c, Ã¡nh hoÃ ng hÃ´n nhuá»™m


  `
};

    /*pháº§n thÃ´ng tin truyá»‡n á»Ÿ trang chá»§*/
const stories=[{
  title:"Tiá»ƒu SÆ° Äá»‡ Háº¯c LiÃªn Hoa NgÃ y NÃ o CÅ©ng Diá»…n Vá»›i Ta",
  cover: "images/truyen1.png",
  chapters: 99,
  desc: 'Má»™t ngÃ y ná», VÃ¢n Niá»‡m - nhÃ¢n viÃªn cá»§a Cá»¥c XuyÃªn ThÆ° - nháº­n Ä‘Æ°á»£c nhiá»‡m vá»¥ Ä‘áº§u tiÃªn: xuyÃªn vÃ o tiá»ƒu thuyáº¿t tu tiÃªn ã€ŠToÃ¡i Kinhã€‹ Ä‘á»ƒ cá»©u vá»›t nam chÃ­nh Táº¡ KhÃ¡nh Lá»…, ngÄƒn cáº£n háº¯n háº¯c hÃ³a, giÃºp háº¯n trá»Ÿ thÃ nh kiáº¿m Ä‘áº¡o Ä‘á»‡ nháº¥t, cá»©u Ä‘á»™ chÃºng sinh. Káº¿ hoáº¡ch ráº¥t Ä‘Æ¡n giáº£n: gá»­i gáº¯m yÃªu thÆ°Æ¡ng, lÃ m bá»©c tÆ°á»ng cháº¯n sÃ³ng giÃ³, nuÃ´i lá»›n má»™t má»¹ cÆ°á»ng tháº£m nhá» Ä‘Ã¡ng thÆ°Æ¡ng. Má»i viá»‡c diá»…n ra hoÃ n háº£oâ€¦ cho Ä‘áº¿n khi nÃ ng phÃ¡t hiá»‡n ra: sÆ° Ä‘á»‡ ngoan hiá»n hÃ³a ra chá»‰ lÃ  ngá»¥y trang. Khi VÃ¢n Niá»‡m chá»©ng kiáº¿n Táº¡ KhÃ¡nh Lá»… tay nhuá»‘m mÃ¡u, giá»ng nÃ³i dá»‹u dÃ ng thÃ¬ tháº§m: "SÆ° tá»·, tá»· Ä‘á»‹nh Ä‘i Ä‘Ã¢u?", nÃ ng chá»‰ muá»‘n quay Ä‘áº§u cháº¡y trá»‘n. NhÆ°ng sá»£i xÃ­ch báº¡c nÆ¡i cá»• chÃ¢n nháº¯c nÃ ng ráº±ng â€“ tÃ¬nh yÃªu cá»§a háº¯n khÃ´ng cÃ³ lá»‘i thoÃ¡t. Tá»« Ã¡nh sÃ¡ng chÃ­nh Ä‘áº¡o Ä‘áº¿n bÃ³ng tá»‘i tÃ  má»‹, tá»« cá»©u rá»—i Ä‘áº¿n bá»‹ chiáº¿m há»¯u, liá»‡u nÃ ng cÃ³ thá»ƒ hoÃ n thÃ nh nhiá»‡m vá»¥, hay lÃºn sÃ¢u vÃ o vÃ²ng xoÃ¡y yÃªu háº­n khÃ³ phÃ¢n?',
  content: defaultChapters
}];

let curStory=0, curChap=0;

function show(page){document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));document.getElementById(page).classList.remove('hidden');}

function goHome(){show('home');history.pushState({},'', '#home');}

function openStory(i){curStory=i;show('story');history.pushState({},'', `#story?id=${i}`);
  story.innerHTML=`<div class=story-header><div class=story-img></div><h2>${stories[i].title}</h2></div>
  <div class=tabs><span class=active id=tDesc>VÄƒn Ã¡n</span><span id=tChap>ChÆ°Æ¡ng</span></div>
  <div class=box id=boxDesc>${stories[i].desc}</div>
  <div class="box hidden" id=boxChap>${stories[i].content.map((ch,c)=>`
  <div onclick="openChapter(${c})">${ch.title}</div>`).join('')}</div>`;
  tDesc.onclick=()=>{boxDesc.classList.remove('hidden');boxChap.classList.add('hidden');tDesc.classList.add('active');tChap.classList.remove('active');};
  tChap.onclick=()=>{boxChap.classList.remove('hidden');boxDesc.classList.add('hidden');tChap.classList.add('active');tDesc.classList.remove('active');};
}

function openChapter(c){
  curChap = c;
  show('chapter');
  history.pushState({}, '', `#chapter?id=${curStory}&c=${c}`);

  const ch = stories[curStory].content[c];

  chapter.innerHTML = `
    <h3>${stories[curStory].title} â€“ ${ch.title}</h3>

    <div class="chapter-nav">
      <div class="pill" onclick="prevChap()">TrÆ°á»›c</div>

      <div class="chapter-dropdown">
        <div class="pill" onclick="toggleChapList()">ChÆ°Æ¡ng â–¼</div>
        <div class="chapter-list" id="chapList">
          ${
            stories[curStory].content
              .map((item, i) => `
                <div onclick="openChapter(${i})">
                  ${item.title}
                </div>
              `)
              .join('')
          }
        </div>
      </div>

      <div class="pill" onclick="nextChap()">Sau</div>
    </div>

    <div class="box">${ch.text}</div>
  `;
}


function prevChap(){if(curChap>0)openChapter(curChap-1)}
function nextChap(){if(curChap<stories[curStory].content.length-1)openChapter(curChap+1)}
function toggleChapList(){chapList.style.display=chapList.style.display==='block'?'none':'block'}

function toggleMenu(){menuBtn.classList.toggle('active');menuPanel.classList.toggle('active')}

function renderHome(){home.innerHTML='';stories.forEach((s,i)=>{
  home.innerHTML+=`<div class=story-card onclick=\"openStory(${i})\"><div class="story-thumb" style="
  background-image: url('${s.cover}');
  background-size: cover;
  background-position: center;"></div><div><h4>${s.title}</h4><p>ðŸ“– ${s.chapters} chÆ°Æ¡ng</p></div></div>`;
});}

window.onpopstate=()=>location.reload();
renderHome();
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iris's book</title>
  <style>
    :root{
      --grad-main: linear-gradient(to top, #F8C8DC, #F0BEE8, #E6DAF5);
      --grad-menu: linear-gradient(to bottom, rgb(250,218,221), rgb(216,191,216));
      --text-dark: #4b3b4f;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:var(--grad-main);
      color:var(--text-dark);
      min-height:100vh;
    }
    .hidden{display:none}

    /* HEADER */
    header{
      position:sticky;top:0;z-index:1000;
      background:rgba(255,255,255,.25);
      backdrop-filter:blur(8px);
      padding:12px 16px;
      display:flex;justify-content:space-between;align-items:center;
    }
    header::after{
      content:"";position:absolute;bottom:0;left:10%;right:10%;height:1px;
      background:linear-gradient(to right,transparent,rgba(255,255,255,.8),transparent);
    }
    .logo{display:flex;align-items:center;gap:8px;font-weight:600;cursor:pointer}
    .logo-circle{
      width:28px;height:28px;border-radius:50%;
      background:var(--grad-main);display:flex;align-items:center;justify-content:center;color:#fff
    }

    /* MENU */
    .menu-btn{width:28px;height:22px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
    .menu-btn span{height:3px;background:#fff;border-radius:2px;transition:.3s}
    .menu-btn.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
    .menu-btn.active span:nth-child(2){opacity:0}
    .menu-btn.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
    .menu-panel{
      position:fixed;top:64px;right:16px;width:70%;max-width:260px;
      background:var(--grad-menu);border-radius:16px;padding:16px;display:none
    }
    .menu-panel.active{display:block}

    main{padding:16px}

    /* HOME */
    .story-card{background:rgba(255,255,255,.4);border-radius:16px;padding:12px;display:flex;gap:12px;margin-bottom:16px;cursor:pointer}
    .story-thumb{width:70px;height:90px;border-radius:12px;background:linear-gradient(to bottom right,#f7b7d2,#d6c1f0)}

    /* STORY */
    .story-header{display:flex;gap:16px;margin-bottom:16px}
    .story-img{width:100px;height:140px;border-radius:16px;background:#ddd}
    .tabs{display:flex;gap:16px;margin-bottom:8px}
    .tabs span{cursor:pointer}
    .tabs .active{text-decoration:underline}
    .box{
  background: rgba(255,255,255,.35);
  border-radius: 16px;
  padding: 18px;
  margin-top: 12px;

  /* QUAN TR·ªåNG */
  height: calc(100vh - 220px); /* chi·∫øm ph·∫ßn c√≤n l·∫°i */
  overflow-y: auto;

  /* ƒê·ªåC TRUY·ªÜN */
  white-space: pre-line;
  line-height: 1.9;
  font-size: 18px;
}


    /* CHAPTER */
    .chapter-nav{display:flex;justify-content:center;align-items:center;gap:8px;margin:12px 0}
    .pill{padding:6px 14px;border-radius:999px;background:rgba(255,255,255,.5);cursor:pointer}
    .chapter-dropdown{position:relative}
    .chapter-list{
      position:absolute;top:36px;left:50%;transform:translateX(-50%);
      background:var(--grad-menu);border-radius:12px;padding:8px;
      max-height:200px;overflow-y:auto;display:none;width:140px
    }
    .chapter-list div{padding:6px;text-align:center;cursor:pointer}
    #chapter{
  display: flex;
  flex-direction: column;
}
    #chapter h3{
        font-size: 20px;
        text-align: center;
        margin-top: 8px;
        margin-bottom: 4px;
    }
    .box::-webkit-scrollbar{
  width: 0;
}

    footer{text-align:center;padding:24px;font-size:13px;opacity:.7}
  </style>
</head>
<body>
<header>
  <div class="logo" onclick="goHome()">
    <div class="logo-circle">I</div>Iris's book
  </div>
  <div class="menu-btn" id="menuBtn" onclick="toggleMenu()"><span></span><span></span><span></span></div>
</header>
<div class="menu-panel" id="menuPanel"></div>

<main>
  <section id="home"></section>
  <section id="story" class="hidden"></section>
  <section id="chapter" class="hidden"></section>
</main>

<footer>‚ú¶ Iris's book ‚ú¶</footer>

<script>
//ph·∫ßn n·ªôi dung ch∆∞∆°ng
// 1Ô∏è‚É£ T·∫°o khung 99 ch∆∞∆°ng r·ªóng
const defaultChapters = Array.from({ length: 99 }, (_, i) => ({
  title: `Ch∆∞∆°ng ${i + 1}`,
  text: `
(Ch∆∞∆°ng ${i + 1} hi·ªán ch∆∞a c√≥ n·ªôi dung)
  `
}));

// 2Ô∏è‚É£ Ghi ƒë√® nh·ªØng ch∆∞∆°ng ƒê√É VI·∫æT
defaultChapters[0] = {
  title: "Ch∆∞∆°ng 1: G·∫∑p g·ª°",
  text: `
N·ªôi dung ch∆∞∆°ng 1 vi·∫øt ·ªü ƒë√¢y.

B·∫°n c√≥ th·ªÉ vi·∫øt d√†i bao nhi√™u c≈©ng ƒë∆∞·ª£c.
Xu·ªëng d√≤ng tho·∫£i m√°i nh∆∞ truy·ªán th·∫≠t.
  `
};

defaultChapters[1] = {
  title: "Ch∆∞∆°ng 2: H·∫Øc li√™n hoa",
  text: `
N·ªôi dung ch∆∞∆°ng 2 vi·∫øt ·ªü ƒë√¢y.

Ti·ªÉu s∆∞ ƒë·ªá c·ªßa ta‚Ä¶
  `
};

defaultChapters[15] = {
  title: "Ch∆∞∆°ng 16: C·ªë LƒÉng Ki·∫øm Kh∆∞u (9)",
  text: `
nƒÉm ng∆∞·ªùi kia kh·∫Ω nh·∫øch m√¥i, kh√¥ng m·ªôt l·ªùi th·ª´a th√£i,
th√¢n h√¨nh tho·∫Øt ·∫©n tho·∫Øt hi·ªán, lao th·∫≥ng v·ªÅ ph√≠a V√¢n
Ni·ªám v·ªõi t·ªëc ƒë·ªô kinh ng∆∞·ªùi.

V√¢n Ni·ªám qu√°t: ‚ÄúC·ª© ng·ªìi y√™n ƒë√≥!‚Äù

M·ªôt tr·∫≠n ph√°p v√¥ h√¨nh bao b·ªçc l·∫•y T·∫° Khanh L·ªÖ, khi·∫øn c·∫≠u th·∫≠m
ch√≠ kh√¥ng c·∫£m nh·∫≠n ƒë∆∞·ª£c l√†n gi√≥ x√© t·ª´ cu·ªôc giao chi·∫øn.

C·∫≠u nh√¨n c√¥ g√°i m·∫£nh kh·∫£nh x√¥ng v√†o gi·ªØa b√≥ng ƒëen.

C√¥ r·∫•t m·∫°nh. D√π ch·ªâ l√† Kim ƒêan, ƒë·ªëi m·∫∑t v·ªõi nƒÉm t√™n ƒë·∫°i h√°n kia,
c√¥ v·∫´n c√≥ th·ªÉ d·ª±a v√†o th√¢n ph√°p linh ho·∫°t ƒë·ªÉ ch·ªëng ƒë·ª°.

Thanh m·ªôc ki·∫øm trong tay c√¥ nh∆∞ ƒë∆∞·ª£c th·ªïi h·ªìn, ki·∫øm kh√≠ t·ª±a r·ªìng l∆∞·ª£n quanh
ng∆∞·ªùi, theo t·ª´ng b∆∞·ªõc ch√¢n c√¥ xuy√™n qua k·∫ª ƒë·ªãch.

T·∫° Khanh L·ªÖ nh·∫≠n ra c√¥ ƒëang b·ªë tr·∫≠n.

B·ªÅ ngo√†i l√† ph√≤ng th·ªß, nh∆∞ng m·ªói b∆∞·ªõc ƒëi ƒë·ªÅu l√† m·ªôt n√∫t tr·∫≠n.

M·ªôt ki·∫øm tu l·∫°i c√≤n tinh th√¥ng tr·∫≠n ph√°p.

N·∫øu V√¢n Ni·ªám nghe ƒë∆∞·ª£c suy nghƒ© n√†y, ch·∫Øc s·∫Ω bu·ªôt mi·ªáng:

C·∫£m t·∫° tr·ªùi ƒë·∫•t, c·∫£m ∆°n Ti·ªÉu s∆∞ th√∫c √în Quan Tr·∫ßn c·ªßa c√¥.

N·∫øu kh√¥ng ph·∫£i v√¨ √¥ng ta th∆∞·ªùng xuy√™n l√¥i c√¥ ƒëi th·ª≠ nghi·ªám tr·∫≠n ph√°p, c√¥ ƒë√£
kh√¥ng h·ªçc ƒë∆∞·ª£c nh·ªØng th·ª© n√†y.

V√¢n Ni·ªám hi·ªÉu r√µ, n·∫øu ch·ªâ d·ª±a v√†o v√µ l·ª±c, s·ªõm mu·ªôn c√¥ c≈©ng b·ªã ti√™u hao ƒë·∫øn
ch·∫øt. ƒê·ªông tƒ©nh l√∫c n√†y kh√¥ng nh·ªè, ch·∫Øc ch·∫Øn kh√¥ng ch·ªâ c√≥ nƒÉm t√™n n√†y.
N·∫øu th√™m ng∆∞·ªùi ƒë·∫øn, c·∫£ hai ƒë·ªÅu s·∫Ω b·ªã b·∫Øt.

M∆∞·ªùi s√°u n√∫t tr·∫≠n ƒë√£ th√†nh. V√¢n Ni·ªám n√© ƒë√≤n c·ªßa m·ªôt t√™n, th√¢n h√¨nh l√πi nhanh
v·ªÅ ph√≠a T·∫° Khanh L·ªÖ.

C√¥ ni·ªám ch√∫, gi·ªçng l·∫°nh nh∆∞ bƒÉng: "Tr·∫≠n kh·ªüi!"

NƒÉm ng∆∞·ªùi kia nh·∫≠n ra b·∫•t th∆∞·ªùng, √°nh m·∫Øt bi·∫øn s·∫Øc, l·∫≠p t·ª©c mu·ªën r√∫t lui.
Nh∆∞ng ch·ªâ trong ch·ªõp m·∫Øt, d∆∞·ªõi ch√¢n h·ªç xu·∫•t hi·ªán m·ªôt v√≤ng tr√≤n √°nh v√†ng r·ª±c
r·ª°, c·ªï x∆∞a xoay tr√≤n.

Xung quanh b·ª´ng l√™n m·ªôt kim chung tr√°o trong su·ªët, ph√π vƒÉn xo√°y nhanh.
"Kim Chung S√°t Tr·∫≠n!‚Äù

Ngay sau ƒë√≥, v√¥ s·ªë l∆∞·ª°i ki·∫øm s·∫Øc b√©n t·ª´ trong tr·∫≠n b·∫Øn ra, ti·∫øng x√© gi√≥ r√≠t l√™n
t·ª´ng h·ªìi.

V√¢n Ni·ªám nh√¢n c∆° h·ªôi, quay ng∆∞·ªùi √¥m l·∫•y T·∫° Khanh L·ªÖ v√† b·ªè ch·∫°y.

Kh√¥ng ch·∫°y b√¢y gi·ªù th√¨ ch·ªù ƒë·∫øn bao gi·ªù?
C√¥ ch∆∞a ch·∫°y ƒë∆∞·ª£c bao xa, ƒë√£ nghe th·∫•y ti·∫øng n·ªï kinh thi√™n ph√≠a sau, ti·∫øp theo
l√† m·ªôt ti·∫øng b·∫°o ph√° ch√≥i tai, l·ª≠a b√πng l√™n gi·ªØa kh√¥ng trung.

[Kh√¥ng t·ªët, ch√∫ng ƒëang truy·ªÅn t√≠n hi·ªáu!]
V√¢n Ni·ªám gi·∫≠n d·ªØ: ‚ÄúKh√¥ng c√≥ v√µ ƒë·ª©c!"
C√¥ kh√¥ng th·ªÉ b·ªè T·∫° Khanh L·ªÖ, nh∆∞ng c·ª© ch·∫°y m√£i c≈©ng kh√¥ng ph·∫£i c√°ch. Nh·ªØng
k·∫ª kia s·ªõm mu·ªôn s·∫Ω ƒëu·ªïi k·ªãp.

V√¢n Ni·ªám nghi·∫øn ch·∫∑t rƒÉng, li·∫øc nh√¨n ph√≠a sau, cu·ªëi c√πng quy·∫øt ƒë·ªãnh.
C√¥ c√µng T·∫° Khanh L·ªÖ lao xu·ªëng r·ª´ng r·∫≠m, ƒë·∫∑t c·∫≠u b√© xu·ªëng gi·ªØa ƒë√°m c·ªè cao
ngang l∆∞ng.
C√¥ b·ªë tr√≠ t·∫•t c·∫£ ph√π tr·∫≠n T√¥ Doanh cho xung quanh, ƒë√∫t cho c·∫≠u m·ªôt vi√™n ƒëan
d∆∞·ª£c ·∫©n kh√≠.

‚ÄúTa s·∫Ω quay l·∫°i ngay, ƒë·ªá tuy·ªát ƒë·ªëi kh√¥ng ƒë∆∞·ª£c ƒë·ªông ƒë·∫≠y. Ta ƒëi d·ª• ch√∫ng ra xa."
C√¥ l·∫•y c·ªè kh√¥ ph·ªß l√™n ng∆∞·ªùi T·∫° Khanh L·ªÖ, ƒë·∫£m b·∫£o ƒë√£ gi·∫•u k√≠n c·∫≠u, r·ªìi ƒë·ª©ng d·∫≠y
ƒë·ªãnh r·ªùi ƒëi.
V·ª´a b∆∞·ªõc ƒë∆∞·ª£c m·ªôt b∆∞·ªõc, V√¢n Ni·ªám quay ƒë·∫ßu nh√¨n l·∫°i.
ƒê√¥i m·∫Øt ƒëen c·ªßa T·∫° Khanh L·ªÖ nh√¨n c√¥ chƒÉm ch√∫, √°nh m·∫Øt b√¨nh th·∫£n nh∆∞ ƒë√£ nh√¨n
th·∫•u t·∫•t c·∫£.

Kh√¥ng s·ª£ h√£i, kh√¥ng tin t∆∞·ªüng, kh√¥ng m·ªôt ch√∫t c·∫£m x√∫c.
C√¥ kh·ª±ng l·∫°i, n√≥i: ‚Äúƒê·ªá tin ta ƒëi, ta nh·∫•t ƒë·ªãnh s·∫Ω quay v·ªÅ. ƒê·ª´ng ra ngo√†i.‚Äù
V√¢n Ni·ªám quay ng∆∞·ªùi r·ªùi ƒëi, t√† √°o m√†u h·ªì l·ª•c khu·∫•t sau t√°n c√¢y, khu r·ª´ng tƒ©nh
l·∫∑ng ch·ªâ c√≤n l·∫°i T·∫° Khanh L·ªÖ m·ªôt m√¨nh.
C·∫≠u co ng∆∞·ªùi trong ƒë√°m c·ªè s√¢u.

T·∫° Khanh L·ªÖ ngng ƒë·∫ßu nh√¨n tr·ªùi, th·∫•y m·ªôt v·ªát ƒë·ªè r·ª±c, √°nh ho√†ng h√¥n nhu·ªôm


  `
};

    /*ph·∫ßn th√¥ng tin truy·ªán ·ªü trang ch·ªß*/
const stories=[{
  title:"Ti·ªÉu S∆∞ ƒê·ªá H·∫Øc Li√™n Hoa Ng√†y N√†o C≈©ng Di·ªÖn V·ªõi Ta",
  cover: "images/truyen1.png",
  chapters: 99,
  desc: 'M·ªôt ng√†y n·ªç, V√¢n Ni·ªám - nh√¢n vi√™n c·ªßa C·ª•c Xuy√™n Th∆∞ - nh·∫≠n ƒë∆∞·ª£c nhi·ªám v·ª• ƒë·∫ßu ti√™n: xuy√™n v√†o ti·ªÉu thuy·∫øt tu ti√™n „ÄäTo√°i Kinh„Äã ƒë·ªÉ c·ª©u v·ªõt nam ch√≠nh T·∫° Kh√°nh L·ªÖ, ngƒÉn c·∫£n h·∫Øn h·∫Øc h√≥a, gi√∫p h·∫Øn tr·ªü th√†nh ki·∫øm ƒë·∫°o ƒë·ªá nh·∫•t, c·ª©u ƒë·ªô ch√∫ng sinh. K·∫ø ho·∫°ch r·∫•t ƒë∆°n gi·∫£n: g·ª≠i g·∫Øm y√™u th∆∞∆°ng, l√†m b·ª©c t∆∞·ªùng ch·∫Øn s√≥ng gi√≥, nu√¥i l·ªõn m·ªôt m·ªπ c∆∞·ªùng th·∫£m nh·ªè ƒë√°ng th∆∞∆°ng. M·ªçi vi·ªác di·ªÖn ra ho√†n h·∫£o‚Ä¶ cho ƒë·∫øn khi n√†ng ph√°t hi·ªán ra: s∆∞ ƒë·ªá ngoan hi·ªÅn h√≥a ra ch·ªâ l√† ng·ª•y trang. Khi V√¢n Ni·ªám ch·ª©ng ki·∫øn T·∫° Kh√°nh L·ªÖ tay nhu·ªëm m√°u, gi·ªçng n√≥i d·ªãu d√†ng th√¨ th·∫ßm: "S∆∞ t·ª∑, t·ª∑ ƒë·ªãnh ƒëi ƒë√¢u?", n√†ng ch·ªâ mu·ªën quay ƒë·∫ßu ch·∫°y tr·ªën. Nh∆∞ng s·ª£i x√≠ch b·∫°c n∆°i c·ªï ch√¢n nh·∫Øc n√†ng r·∫±ng ‚Äì t√¨nh y√™u c·ªßa h·∫Øn kh√¥ng c√≥ l·ªëi tho√°t. T·ª´ √°nh s√°ng ch√≠nh ƒë·∫°o ƒë·∫øn b√≥ng t·ªëi t√† m·ªã, t·ª´ c·ª©u r·ªói ƒë·∫øn b·ªã chi·∫øm h·ªØu, li·ªáu n√†ng c√≥ th·ªÉ ho√†n th√†nh nhi·ªám v·ª•, hay l√∫n s√¢u v√†o v√≤ng xo√°y y√™u h·∫≠n kh√≥ ph√¢n?',
  content: defaultChapters
}];

let curStory=0, curChap=0;

function show(page){document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));document.getElementById(page).classList.remove('hidden');}

function goHome(){show('home');history.pushState({},'', '#home');}

function openStory(i){curStory=i;show('story');history.pushState({},'', `#story?id=${i}`);
  story.innerHTML=`<div class=story-header><div class=story-img></div><h2>${stories[i].title}</h2></div>
  <div class=tabs><span class=active id=tDesc>VƒÉn √°n</span><span id=tChap>Ch∆∞∆°ng</span></div>
  <div class=box id=boxDesc>${stories[i].desc}</div>
  <div class="box hidden" id=boxChap>${stories[i].content.map((ch,c)=>`
  <div onclick="openChapter(${c})">${ch.title}</div>`).join('')}</div>`;
  tDesc.onclick=()=>{boxDesc.classList.remove('hidden');boxChap.classList.add('hidden');tDesc.classList.add('active');tChap.classList.remove('active');};
  tChap.onclick=()=>{boxChap.classList.remove('hidden');boxDesc.classList.add('hidden');tChap.classList.add('active');tDesc.classList.remove('active');};
}

function openChapter(c){
  curChap = c;
  show('chapter');
  history.pushState({}, '', `#chapter?id=${curStory}&c=${c}`);

  const ch = stories[curStory].content[c];

  chapter.innerHTML = `
    <h3>${stories[curStory].title} ‚Äì ${ch.title}</h3>

    <div class="chapter-nav">
      <div class="pill" onclick="prevChap()">Tr∆∞·ªõc</div>

      <div class="chapter-dropdown">
        <div class="pill" onclick="toggleChapList()">Ch∆∞∆°ng ‚ñº</div>
        <div class="chapter-list" id="chapList">
          ${
            stories[curStory].content
              .map((item, i) => `
                <div onclick="openChapter(${i})">
                  ${item.title}
                </div>
              `)
              .join('')
          }
        </div>
      </div>

      <div class="pill" onclick="nextChap()">Sau</div>
    </div>

    <div class="box">${ch.text}</div>
  `;
}


function prevChap(){if(curChap>0)openChapter(curChap-1)}
function nextChap(){if(curChap<stories[curStory].content.length-1)openChapter(curChap+1)}
function toggleChapList(){chapList.style.display=chapList.style.display==='block'?'none':'block'}

function toggleMenu(){menuBtn.classList.toggle('active');menuPanel.classList.toggle('active')}

function renderHome(){home.innerHTML='';stories.forEach((s,i)=>{
  home.innerHTML+=`<div class=story-card onclick=\"openStory(${i})\"><div class="story-thumb" style="
  background-image: url('${s.cover}');
  background-size: cover;
  background-position: center;"></div><div><h4>${s.title}</h4><p>üìñ ${s.chapters} ch∆∞∆°ng</p></div></div>`;
});}

window.onpopstate=()=>location.reload();
renderHome();
</script>
</body>
</html>